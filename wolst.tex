\documentclass[12pt]{subfile}
\begin{document}
	The purpose of this section is to discuss the sum
		\begin{align*}
			\sum_{k=1}^{p-1} \frac{1}{k} = 1+\frac{1}{2}+ \frac{1}{3}+\cdots+ \frac{1}{p-1}
		\end{align*}

	Well, not exactly. We are more interested in this sum modulo $p$ where $p$ is a prime. But how do we calculate fractions modulo $p$? The answer should be obvious by now. $\frac{a}{b}\pmod p$ is actually $ab^{-1}\pmod p$ where $b^{-1}\pmod p$ is the inverse of $b$ modulo $p$. So if $be\equiv1\pmod p$, then
		\begin{align*}
			\frac{a}{b}\equiv ae\pmod p
		\end{align*}
	However, from modular cancellation property, we can take fractions modulo $p$ if $p\nmid b$. Moreover, we can introduce some sort of divisibility here.

	Let $ \frac{a}{b}$ be a fraction and let $n$ be an integer such that $(n,b)=1$. If $a$ is divisible by $n$, we say that $ \frac{a}{b}$ is divisible by $n$. Following this convention, the congruence $\frac{a}{b} \equiv 0 \pmod n$ makes sense.
		\begin{example}
			Since $25 \mid 100$ and $(3,25)=1$, we have $\frac{100}{3} \equiv 0 \pmod 3$. We can also calculate it this way:
				\begin{align*}
					\frac{100}{3}   &\equiv 100 \cdot (3)^{-1} \\
					&\equiv 100 \cdot 17\\
					&\equiv 0 \pmod{25}
				\end{align*}
			Now, let's compute a non-zero fraction modulo $7$:
				\begin{align*}
					\frac{840}{77} &= \frac{120}{11} \equiv 120 \cdot (11)^{-1}\\
					&\equiv 120 \cdot 2 \\
					& \equiv 2 \pmod{7}
				\end{align*}
		\end{example}


		\begin{theorem}[Wolstenholme's Theorem]\slshape\label{thm:wolst}
			Let $p>3$ be a prime. Then
			\begin{align*}
				S
					& = \sum_{k=1}^{p-1} \frac{1}{k}\\
					& = 1+\frac{1}{2}+ \frac{1}{3}+\cdots+ \frac{1}{p-1}\\
					& \equiv 0 \pmod{p^2}
			\end{align*}
		\end{theorem}

		\begin{note}
			According to our assumption, the sum $ \sum_{k=1}^{p-1} 1/k$ has been written in lowest terms, that is, as a fraction $a/b$ such that $(a,b)=1$.
		\end{note}

		\begin{remark}
			Theorem \eqref{thm:wolst} is not the original theorem stated by Wolstenholme. Actually the theorem was as stated below.
		\end{remark}

		\begin{theorem}\slshape\label{thm:origwolst}
			If $p$ is a prime bigger than $3$, then
			\begin{align*}
				\binom{2p}{p} & \equiv2\pmod{p^3}\\
				\binom{2p-1}{p-1} & \equiv 1 \pmod{p^3}
			\end{align*}
			This theorem is equivalent to \autoref{thm:wolst}.
		\end{theorem}
	This seems to be a very interesting theorem, however the proof is not straightforward. Let us tackle this theorem step by step (these steps are really intuitive and very useful in olympiad problems). But first we will show a weaker version of the \autoref{thm:origwolst}.
		\begin{theorem}\slshape
			For any prime $p$,
				\begin{align*}
					\binom{2p}{p} & \equiv2\pmod{p^2}
				\end{align*}
		\end{theorem}

		\begin{proof}
			We make use of the identity \eqref{id:binomsquaressum} to write
				\begin{align*}
					\binom{2p}p & = \binom{p}0^2+\binom{p}{1}^2+\cdots+\binom{p}{p-1}^2+\binom{p}{p}^2\\
								& = 2+\binom{p}{1}^2+\cdots+\binom{p}{p-1}^2\\
								& \equiv2\pmod{p^2}
				\end{align*}
			The last line is true because from \autoref{thm:binpdiv}, for $0<i<p$, we have
				\begin{align*}
					\binom{p}{i}
						& \equiv 0\pmod p\\
					\binom{p}{i}^2
						& \equiv 0\pmod{p^2}
				\end{align*}
		\end{proof}

		\begin{lemma}\label{lem:wolstproof1}
			Let $p>3$ be a prime and $S$ be defined as in \autoref{thm:wolst}. Then,
				\begin{align*}
					S \equiv 0 \pmod p
				\end{align*}
		\end{lemma}

		\begin{proof}
			The proof is straightforward. There are $p-1$ terms in the sum and since $p>3$ is an odd prime, the number of terms is even. So we can write $S$ as sum of pairs of the form $ \frac{1}{k} +‌\frac{1}{p-k}$, for $k=1, 2, \ldots, \frac{p-1}{2}$. Thus
			\begin{align*}
				S
					&= 1+\frac{1}{2}+ \frac{1}{3}+\cdots+ \frac{1}{p-1}\\
					& = \left(1 + \frac{1}{p-1}\right) +‌\left(\frac{1}{2} + \frac{1}{p-2}\right) + \cdots + \left(\frac{1}{\frac{p-1}{2}} + \frac{1}{\frac{p-1}{2}+1}\right)\\
					& = \sum_{k=1}^{\frac{p-1}{2}} \left(\frac{1}{k}+\frac{1}{p-k} \right)\\
					& = \sum_{k=1}^{\frac{p-1}{2}} \frac{(k) + (p-k)}{k(p-k)}\\
					& = \sum_{k=1}^{\frac{p-1}{2}} \frac{p}{k(p-k)}\\
					& =p \cdot \sum_{k=1}^{\frac{p-1}{2}} \frac{1}{k(p-k)}\\
					& \equiv 0 \pmod p
			\end{align*}
			In the last line of above equations, the sum can be written as $\frac{a}{(p-1)!}$, where $a$ is some integer. Note that $(p, (p-1)!)=1$ and that's why we can conclude
				\begin{align*}
					p \cdot \sum_{k=1}^{\frac{p-1}{2}} \frac{1}{k(p-k)} \equiv 0 \pmod p
				\end{align*}
		\end{proof}

		\begin{lemma}\label{lem:wolstproof2} For a prime $p>3$,
			\[(1^{-1})^2+(2^{-1})^2+\cdots+((p-1)^{-1})^2 \equiv 0 \pmod p\] where $i^{-1}$ is the multiplicative inverse of $i$ modulo $p$ for $i=1,2,\ldots,p-1$.
		\end{lemma}

		\begin{proof}
			We recommend you re-read section \eqref{sec:arithinverse} if you have forgotten the definition of multiplicative inverse. We already know that
				\begin{align*}
					1^2+2^2+\cdots+(p-1)^2 = \frac{(p-1)(p)(2p-1)}{6}
				\end{align*}
			Clearly, the sum is an integer. Therefore $(p-1)(p)(2p-1)$ is divisible by $6$. Now since $p>3$, we have $(p,6)=1$ and thus $p$ divides $(p-1)(p)(2p-1)/6$. Therefore,
				\begin{align*}
					1^2+2^2+\cdots+(p-1)^2 \equiv 0 \pmod p
				\end{align*}
			In order to prove the lemma we should show that
				\begin{align*}
					(1^{-1})^2+(2^{-1})^2+\cdots+((p-1)^{-1})^2 \equiv 1^2+2^2+\cdots+(p-1)^2 \pmod p
				\end{align*}
			We shall show that the sets $A=\{1,2,\ldots,p-1\}$ and $B=\{1^{-1}, 2^{-1},\ldots,(p-1)^{-1}\}$ are equal. A proof is as follows: from \autoref{thm:arithinverse}, for any $x \in A$, there exists some $y \in B$ such that $xy \equiv 1 \pmod p$. This $y$ is unique, because if there exists some other $z \in B$ for which $xz \equiv 1 \pmod p$, then $xy \equiv xz \pmod p$, and since $(x,p)=1$, we have $y \equiv z \pmod p$ which means $y=z$ (why?). So there exists a unique $y\in B$ for each $x \in A$, and thus $A=B$ since $A$ and $B$ have equal number of elements. Finally,
				\begin{align*}
					(1^{-1})^2+(2^{-1})^2+\cdots+((p-1)^{-1})^2
						& \equiv 1^2+2^2+\cdots+(p-1)^2\\
						& \equiv 0 \pmod p
				\end{align*}
		\end{proof}
	We are going to re-state Proposition \ref{thm:modgcd} because, as we already mentioned, it is very useful:
		\begin{lemma}\label{lem:wolstproof3}
			For a prime $p\geq 3$ and any positive integer $a$ relatively prime to $p$,
			\[ (a^{-1})^n\equiv (a^n)^{-1} \pmod p\]
			for all positive integers $n$.
		\end{lemma}

		\begin{proof}
			\begin{align*}
				a
					& \cdot a^{-1} \equiv 1 \pmod p\\
				\implies a^n
					& \cdot (a^{-1})^n \equiv 1 \pmod p\\
				\implies(a^{-1})^n
					& \equiv (a^n)^{-1} \pmod p
			\end{align*}

		\end{proof}

		\begin{lemma}\label{lem:wolstproof4}
			For a prime $p>3$,
				\begin{align*}
					\sum_{i=1}^{\frac{p-1}{2}} \frac{1}{i(p-i)}
						& \equiv 0 \pmod p
				\end{align*}
		\end{lemma}

		\begin{proof}
			Let's write the sum as
				\begin{align*}
					\sum_{i=1}^{\frac{p-1}{2}} \frac{1}{i(p-i)}
						& = \sum_{i=1}^{\frac{p-1}{2}} \frac{\frac{(p-1)!}{i(p-i)}}{(p-1)!}\\
						& = \frac{1}{(p-1)!} \cdot \sum_{i=1}^{\frac{p-1}{2}} \frac{(p-1)!}{i(p-i)}
					%&= \frac{1}{1(p-1)}+\frac{1}{2(p-2)}+\cdots+\frac{1}{\frac{p-1}{2} \left(p - \frac{p-1}{2} \right)}\\
					%&=\frac{\frac{(p-1)!}{1(p-1)} +\frac{(p-1)!}{2(p-2)}+\cdots+\frac{(p-1)!}{\frac{p-1}{2} \left(p - \frac{p-1}{2} \right)}}{(p-1)!}.
				\end{align*}
			Since $(p-1)!$ is relatively prime to $p$, we only need to show that
				\begin{align*}
					\sum_{i=1}^{\frac{p-1}{2}} \frac{(p-1)!}{i(p-i)}
						& \equiv 0 \pmod p
				\end{align*}
			Define
				\begin{align*}
					a_i = \frac{(p-1)!}{i(p-i)}
				\end{align*}
			for $i=1,2,\ldots,\frac{p-1}{2}$. From Wilson's theorem, we know that $(p-1)! \equiv -1 \pmod p$. Observe that
				\begin{align*}
					i\cdot (p-i) \cdot a_i = (p-1)! \equiv -1 \pmod p
				\end{align*}
			Replacing $p-i \equiv -i \pmod p$ in the above equation, we have
				\begin{align}\label{eq:wolstproof1}
					-i^2
						& \cdot a_i = -1 \pmod p\\
					\implies i^2
						& \cdot a_i \equiv 1 \pmod p
				\end{align}
			Notice that the above equations are true for $i=1,2,\ldots,(p-1)/2$. Now, \eqref{eq:wolstproof1} means that $a_i$ is the multiplicative inverse of $i^2$ modulo $p$. So we have proved that
				\begin{align}\label{eq:wolstproof2}
					a_i
						& = \frac{(p-1)!}{i(p-i)}
						& \equiv (i^2)^{-1} \pmod p
				\end{align}
			for $i=1,2,\ldots,\frac{p-1}{2}$ where $(i^2)^{-1}$ means the multiplicative inverse of $i^2$ modulo $p$. We should now prove that the sum of all $a_i$s is divisible by $p$. Let $ a=\sum_{i=1}^{(p-1)/2} a_i$. According to \eqref{eq:wolstproof2},
				\begin{align*}
					a
						& = \sum_{i=1}^{\frac{p-1}{2}} a_i\\
						& = \sum_{i=1}^{\frac{p-1}{2}} (i^2)^{-1}
				\end{align*}
			From Lemma \ref{lem:wolstproof3},  $(i^2)^{-1} \equiv (i^{-1})^{2} \pmod p$, and so
				\begin{align}\label{eq:wolstproof3}
					a \equiv
						& \sum_{i=1}^{\frac{p-1}{2}} (i^{-1})^{2} \pmod p
				\end{align}
			We want to show that $a \equiv 0 \pmod p$. The trick is to convert \eqref{eq:wolstproof3} to what we proved in Lemma \ref{lem:wolstproof2}, using the fact that $-(a^{-1}) \equiv (-a)^{-1} \pmod p$:
				\begin{align*}
					2a
						&\equiv a+a \equiv \sum_{i=1}^{\frac{p-1}{2}} (i^{-1})^{2} + \sum_{i=1}^{\frac{p-1}{2}} (i^{-1})^{2}\\
						& \equiv \sum_{i=1}^{\frac{p-1}{2}} (i^{-1})^{2} + \sum_{i=1}^{\frac{p-1}{2}} (-(i)^{-1})^{2}  \\
						&\equiv \sum_{i=1}^{\frac{p-1}{2}} (i^{-1})^{2} + \sum_{i=1}^{\frac{p-1}{2}} ((-i)^{-1})^{2}\\
						& \equiv \sum_{i=1}^{\frac{p-1}{2}} (i^{-1})^{2} + \sum_{i=1}^{\frac{p-1}{2}} ((p-i)^{-1})^{2}\\
						& \equiv \sum_{i=1}^{\frac{p-1}{2}} (i^{-1})^{2} + \sum_{i=\frac{p+1}{2}}^{p-1} (i^{-1})^{2}\\
						& \equiv \sum_{i=1}^{p-1} (i^{-1})^{2}\\
						& \equiv 0 \pmod p
				\end{align*}
			Thus $a \equiv 0 \pmod p$ and we are done.
		\end{proof}
	We are ready to prove Wolstenholme's theorem now.
		\begin{proof}[Proof of Wolstenholme's Theorem]
			According to Lemma \ref{lem:wolstproof1}, we can write $S$ as
			\begin{align*}
				S
					& = p \cdot \sum_{i=1}^{\dfrac{p-1}{2}} \dfrac{1}{i(p-i)}
			\end{align*}
			From Lemma \ref{lem:wolstproof4}, we know that the above sum is divisible by $p$, so $S$ is divisible by $p^2$.
		\end{proof}

		\begin{problem}
			Let $p \geq 5$ be a prime number, and
				\begin{align*}
					1 + \dfrac{1}{2} + \ldots + \dfrac{1}{p}=\dfrac{a}{b}
				\end{align*}
			where $a$ and $b$ are two relatively prime integers. Show that $p^4\mid ap-b$.
		\end{problem}

		\begin{solution}
			From Wolstenholme's theorem, we have
				\begin{align*}
					1 + \dfrac{1}{2} + \cdots + \dfrac{1}{p-1}
						& = p^2 \cdot \dfrac{x}{y}
				\end{align*}
			for some integers $x$ and $y$ such that $y \bot p$. Replacing this in the given equation,
				\begin{align*}
					p^2 \cdot \dfrac{x}{y}+ \dfrac{1}{p}
						& = \frac{a}{b}\\
					ap-b
						& = p^3b \cdot \dfrac{x}{y}
				\end{align*}
			Since $b$ is divisible by $p$, we have $p^4\mid ap-b$.
		\end{solution}

		\begin{problem}
			Let $p \geq 5$ be a prime and
				\begin{align*}
					\dfrac{1}{p-1} + \dfrac{2}{p-2} + \ldots + \dfrac{p-1}{1}
						& =\dfrac{a}{b}
				\end{align*}
			where $a$ and $b$ are two relatively prime integers. Show that $p^3\mid a-b+bp$.
		\end{problem}

		\begin{solution}
			Note that
				\begin{align*}
					\dfrac{a}{b}
						& = \sum_{i=1}^{p-1} \frac{p-i}{i}\\
						& =\sum_{i=1}^{p-1} \left(\frac{p}{i} -1 \right)\\
						& =\sum_{i=1}^{p-1} \dfrac{p}{i} - (p-1)\\
						& = p\cdot\left(\sum_{i=1}^{p-1} \dfrac{1}{i}\right)-(p-1)\\
						& = p \cdot p^2 \dfrac{x}{y}-(p-1)
				\end{align*}
			where $x$ and $y$ are relatively prime integers with $y \bot p$ (we have used Wolstenholme's theorem in the last line). Now,
				\begin{align*}
					\dfrac a b+p-1
						& =p\cdot\dfrac{p^2x}y\\
					\implies (a-b+bp)y
						& =p^3xb
				\end{align*}
			and since $y\bot p$, we have $p^3\mid a-b+bp$.
		\end{solution}



		\begin{problem}\label{prob:binom(p-1)(k)}
			For any prime $p$ and a positive integer $k$ such that $1 \leq k \leq p-1$, prove that
				\begin{align*}
					\binom{p-1}{k} & \equiv(-1)^k\pmod p
				\end{align*}
		\end{problem}

		\begin{solution}
			We use the fact that $p-i\equiv-i\pmod p$ and that $(i,p)=1$ for $0<i<p$.
				\begin{align*}
					\binom{p-1}{k}
						& = \dfrac{(p-1)(p-2)\cdots(p-1-k+1)}{1\times 2 \times \cdots \times k}\\
						& \equiv \dfrac{(-1) \times (-2) \times \cdots \times (-k)}{1\times 2 \times \cdots \times k}\\
						& \equiv\dfrac{(-1)^k \cdot 1\times 2 \times \cdots \times k}{1\times 2 \times \cdots \times k}\\
						& \equiv(-1)^k\pmod p
				\end{align*}

		\end{solution}

		\begin{problem}\slshape
			For an odd prime $p$, show that
				\begin{align*}
					\dfrac{2^p-2}{p} & \equiv1-\dfrac{1}{2}+\cdots-\dfrac{1}{p-1}\pmod p
				\end{align*}
		\end{problem}

		\begin{solution}
			The approach is not obvious here unless one knows the above theorem. In problems like this, it is usually hard to pin down how to approach the problem. However, one should of course try to make use of the fact that
				\begin{align*}
					2^p
						& = (1+1)^p = 1+\binom{p}{1}+\cdots+\binom{p}{p-1}+1\\
						& = 1+\dfrac{p}{1}\binom{p-1}{0}+\cdots+\dfrac{p}{p-1}\binom{p-1}{p-2}+1
				\end{align*}
			So,
				\begin{align*}
					2^p-2
						& = p\left(\frac{1}{1}\binom{p-1}{0}+\dfrac{1}{2}\binom{p-1}{1}+\cdots+\dfrac{1}{p-1}\binom{p-1}{p-2}\right)
				\end{align*}
			Now, the problem is in a suitable shape and we can use the theorem above to write
				\begin{align*}
					\dfrac{2^p-2}{p}
						& = \dfrac{1}{1}\binom{p-1}{0}+\dfrac{1}{2}\binom{p-1}{1}+\cdots+\dfrac{1}{p-1}\binom{p-1}{p-2}\\
						& \equiv(-1)^0+\dfrac{1}{2}(-1)^1+\cdots+\dfrac{1}{p-1}(-1)^{p-3}\\
						& \equiv1-\dfrac{1}{2}+\cdots-\dfrac{1}{p-1}\pmod p
				\end{align*}

		\end{solution}

		\begin{corollary}
			For an odd prime $p$,
				\begin{align*}
					\dfrac{2^{p-1}-1}{p}
						& \equiv1-\dfrac{1}{2}+\cdots-\dfrac{1}{p-2}\pmod p
				\end{align*}
		\end{corollary}

		\begin{problem}
			Let $p \geq 5$ be a prime. Prove that
				\begin{align*}
					\binom{p^2}{p}
						& \equiv p \pmod{p^5}
				\end{align*}
		\end{problem}

		\begin{solution}
			Notice that
				\begin{align*}
					\binom{p^2}{p} - p
						& =\dfrac{p^2(p^2-1)(p^2-2)\cdots(p^2-(p-1))}{p!}-p\\
						& =\dfrac{p}{(p-1)!} \Big((p^2-1)(p^2-2)\cdots(p^2-(p-1)) - (p-1)!\Big)
				\end{align*}
			Since $(p, (p-1)!)=1$, it suffices to show that
				\begin{align*}
					(p^2-1)(p^2-2)\cdots(p^2-(p-1)) \equiv (p-1)! \pmod{p^4}
				\end{align*}
			Expand the left side to obtain
				\begin{align*}
					(p^2-1)(p^2-2)\cdots(p^2-(p-1))
						& = (p-1)! + p^2\Big(1+\frac{1}{2}+\cdots+\frac{1}{p-1}\Big)\left(p-1\right)!+p^4\cdot x
				\end{align*}
			where $x$ is some integer. By Wolstenholme's theorem, the second term in the above expansion is divisible by $p^4$ and we are done.
		\end{solution}

		\begin{corollary}
			Let $p \geq 5$ be a prime and $n\geq 1$ be an integer. Then
				\begin{align*}
					\binom{p^{n+1}}{p}
						& \equiv p^n \pmod{p^{2n+3}}
				\end{align*}
		\end{corollary}
	A result from \textcite{carlitz_1954}.
		\begin{problem}
			Let $k$ be a non-negative integer and $p\geq 5$ be a prime. Prove that
				\begin{align*}
					\dfrac{1}{kp+1}+ \dfrac{1}{kp+2}+ \ldots+\dfrac{1}{kp+(p-1)}\equiv 0\pmod{p^2}
				\end{align*}
		\end{problem}

		\begin{hint}
			Use the following:
				\begin{align*}
					\sum_{i=1}^{p-1}\dfrac{1}{kp+i}
						& = \dfrac{1}{2}\sum_{i=1}^{p-1}\Bigl(\dfrac{1}{kp+i}+\dfrac{1}{kp+p-i}\Bigr)
				\end{align*}
		\end{hint}

		\begin{problem}
			For a prime $p \geq 5$, show that
				\begin{align*}
					\binom{p^3}{p^2}
						& \equiv \binom{p^2}{p} \pmod{p^8}
				\end{align*}
		\end{problem}
	The following problem appears in \textcite[D23]{vandendriessche_lee_2007}.
		\begin{problem}
			Let $p$ be an odd prime of the form $p=4n+1$.
			\begin{itemize}
				\item Show that $n$ is a quadratic residue $\pmod{p}$.
				\item Calculate the value $n^{n}$  $\pmod{p}$.
			\end{itemize}
		\end{problem}

		\begin{problem} %[http://www.artofproblemsolving.com/community/c6h229692p1272166]
			Let $p \geq 7$ be a prime and let $s$ be a positive integer such that $p-1 \nmid s$. Prove that
			\begin{align*}
				1 + \dfrac {1}{2^s} + \dfrac {1}{3^s} + \ldots + \dfrac {1}{(p - 1)^s}
					& \equiv 0 \pmod p
			\end{align*}
		\end{problem}

		\begin{problem} %[Generalized Wolstenholme's Theorem]%[http://www.artofproblemsolving.com/community/q1h164729p916854]
			Let $n$ be a positive integer not divisible by $6$. Also, let $S$ be a reduced residue system modulo $n$ such that $1 \leq a <n$ for all $a \in S$. Prove that
				\begin{align*}
					\sum_{a \in S} \frac{1}{a}
						& \equiv 0 \pmod{n^2}
				\end{align*}
		\end{problem}



\end{document}