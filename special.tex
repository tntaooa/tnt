\documentclass{subfile}

\begin{document}
	\chapter{Special Topics}\label{ch:special}

	\begin{quote}\ttfamily
		When you have a hammer in your hand, it's hard refraining yourself from treating everything as a nail.
	\end{quote}
	The objective of this chapter is to provide with some very powerful tools and some special topics, which are incredibly helpful. Some topics may not be very useful for solving problems, but they are quite good for making someone think and thus they encourage us to study more on them. Let's start with a really nice lemma\watermark.

	\section{Thue's Lemma}
	\subfile{thue.tex}

	\section{Chicken McNugget Theorem}
	\subfile{nugget.tex}

	\section{Vietta Jumping}
	\subfile{vietta.tex}

	\section{Exponent GCD Lemma}
	\subfile{egl.tex}

	\section{A Congruence Lemma Involving \texorpdfstring{$\boldsymbol{\gcd}$}{gcd}}
	\subfile{gcd-lem.tex}

	\section{Lifting the Exponent Lemma}
	\subfile{lte.tex}

	\section{Zsigmondy's Theorem}

	\subfile{zsigmondy.tex}

	\section{How to Use Matrices}
		\subfile{matrix.tex}


	\section{A Proof for the Law of Quadratic Reciprocity}\label{sec:qrlawproof}
	\subfile{qrlawproof.tex}

	\section{Darij-Wolstenholme Theorem}
	\subfile{darijwolst.tex}

	\section{Generalization of Wilson's and Lucas' Theorem}\label{sec:wilsongeneral}
	\subfile{wilsongeneral.tex}

	\section{Inverse of Euler's Totient Function}
	\subfile{inversephi.tex}

	\newpage
	\section{Exercises}
	%Thue
	\begin{problem} %https://artofproblemsolving.com/community/c6h552600
		Let $p$ be a prime number. Prove that there exist integers $x$ and $y$ such that $p=2x^2+3y^2$ if and only if $p$ is congruent to $5$ or $11$ modulo $24$.
	\end{problem}

	%	\begin{solution}
	%		The $\rightarrow$ part is obvious with quadratic residues modulo $24$ so let me prove the $\leftarrow$ part.
	%
	%		One can easily calculate $\left(\frac{\frac{p-3}{2}}{p}\right)$ for the cases $p\equiv 5\mod 24$ or $p\equiv 11\mod 24$. It equals $1$ hence there exist an integer $a$ such that $a^2\equiv \frac{p-3}{2}\mod p$ or $2a^2\equiv -3\mod p$. Consider the set of integers of the form $ax-y$ where $0\le x,y< \sqrt{p}$. The number of possible pairs $(x,y)$ is then greater than $p$, so by pigenhole principle , there exist integers $0\le x_1,y_1,x_2,y_2<\sqrt{p}$ such that $ax_1-y_1\equiv ax_2-y_2\mod p$ which implies $ax\equiv y\mod p$ where $x_1-x_2=x$ and $y_1-y_2=y$. Thus $a^2x^2\equiv y^2\mod p$ or $-3x^2\equiv 2y^2\mod p\implies 3x^2+2y^2\equiv 0\mod p$. Since $0<x^2,y^2<p$ , we have $4$ possible cases :
	%
	%		$1)3x^2+2y^2=p$: Then the desired result follows.
	%
	%		$2)3x^2+2y^2=2p$: Since $x$ is even write $x=2x_1$ to get $6x_1^2+y^2=p$ which contradicts $p$ being congruent to $-1$ modulo $6$.
	%
	%		$3)3x^2+2y^2=3p$: Since $y$ is a multiple of $3$ write $y=3y_1$ to get $x^2+6y_1^2=p$, again same contradiction.
	%
	%		$4)3x^2+2y^2=4p$: Since $x$ is even write $x=2x_1$ to get $6x_1^2+y^2=2p$. Since $y$ is even write $y=2y_1$ to get $3x_1^2+2y_1^2=p$ so the desired result follows.
	%	\end{solution}

	\begin{problem}[K$\ddot{\mbox{o}}$MaL] %http://www.komal.hu/verseny/feladat.cgi?a=feladat&f=A618&l=en
		Prove that the equation $x^3-x+9=5y^2$ has no solution among the integers.
	\end{problem}

	\begin{problem}[India 1998]
		If an integer $n$ is such that $7n$ is the form $a^2 + 3b^2$, prove that $n$ is also of that form.
	\end{problem}

	\begin{problem}[USA TST 2017] %https://artofproblemsolving.com/community/c6h1388623
		Prove that there are infinitely many triples $(a, b, p)$ of positive integers with $p$ prime, $a < p$, and $b < p$, such that $(a + b)^p - a^p - b^p$ is a multiple of $p^3$.
	\end{problem}

	\begin{problem}
		Let $p$ be a prime other than $7$. Prove that the following conditions are equivalent:
		\begin{enumerate}
			\item There exist integers $x$ and $y$ such that $x^2+7y^2=p$.
			\item $\left(\dfrac{-7}{p}\right) = 1$.
			\item $p$ is congruent to $1,2$, or $4$ modulo $7$.
		\end{enumerate}
	\end{problem}

	\begin{problem}
		Let $p$ be a prime larger than $5$. Prove that the following conditions are equivalent:
		\begin{enumerate}
			\item There exist integers $x$ and $y$ such that $x^2+6y^2=p$.
			\item $p$ is congruent to $1$ or $7$ modulo $24$.
		\end{enumerate}
	\end{problem}

	\begin{problem}[Vietnam TST 1998] %https://artofproblemsolving.com/community/c6h42389
		Let $d$ be a positive divisor of $5 + 1998^{1998}$. Prove that $d = 2 \cdot x^2 + 2 \cdot x \cdot y + 3 \cdot y^2$, where $x, y$ are integers if and only if $d$ is congruent to 3 or 7 $\pmod{20}$.
	\end{problem}

%	\begin{solution}
%		First note that $gcd(3,d)=gcd(2,d)=1$
%		Let $1998^{999}=a$. Then by Thue's lemma we have $a^2x^2 \equiv y^2(mod$ $d)$ for some positive integers $x,y\le \sqrt{d}$
%
%		And since $a^2\equiv -5(mod$ $d)$ then $a^2x^2\equiv -5x^2\equiv y^2(mod$ $d)$
%		So $5x^2+y^2$ is divisible by $d$ and since $x,y\le \sqrt{d}$ then all posible cases are $k=5x^2+y^2:=d,2d,3d,4d,5d,6d$
%
%		$A)$ If we have $d\equiv 3,7(mod$ $20)$ then $k$ cannot be $d,4d,5d,6d$
%		So we must have $5x^2+y^2=2d$ or $3d$.
%		$1)$ When $5x^2+y^2=2d$ and since $d$ is odd then $x,y$ must have same parity.
%		So we have $y=x+2s$ for some integer $s$ and $d=2xs+2s^2+3x^2$ q.e.d
%		$2)$ When $5x^2+y^2=3d$ and since $gcd(3,d)=1$ then we must have $y-x=3t$ or $y+x=3t$ for some integer $t$.
%		If $y-x=3t$ then $d=2x^2+2xt+3t^2$
%		If $y+x=3t$ then $d=2x^2+2xr+3r^2$ where $r=-t$
%		q.e.d
%		$B)$ If $d=2x^2+2xy+3y^2$ then we must have $d\equiv 3,7(mod$ $20)$ which is easy to prove.
%	\end{solution}

	\begin{problem}[Romania TST 1997] %https://artofproblemsolving.com/community/c146h150923
		Let $A$ be the set of positive integers of the form $a^2 +2b^2$, where $a$ and $b$ are integers and $b \neq 0$. Show that if $p$ is a prime number and $p^2 \in A$, then $p \in A$.
	\end{problem}

%	\begin{solution}
%		Suppose that $ p^{2}\in A$. Write $ p^{2}= a^{2}+2b^{2}$ for some positive integers $ a$ and $ b$. Reading the equation modulo $ p$ yields $ a^{2}\equiv-2 b^{2}\; (mod\; p)$. Multiplying the inverse of $ b$ modulo $ p$,\footnote{ It's clear that $ b < p$ so that $ b$ is not divisible $ p$.} we get
%		\[ \left( a b^{-1}\right)^{2}\equiv-2\; (mod\; p).\]
%		Taking $ \alpha\equiv a b^{-1}\; (mod\; p)$ in Thue's Lemma, we can find a pair $ (m,n)$ of integers satisfying that $ n\equiv\alpha m\; (mod\; p)$ and $ 0 <\vert m\vert ,\vert n\vert <\sqrt{p}$. After squaring the congruence, we have
%		\[ n^{2}\equiv{\alpha}^{2}{m}^{2}\equiv-2m^{2}\; (mod\; p).\]
%		In other words, $ n^{2}+2m^{2}$ is divisible by $ p$. Since $ 0 <\vert m\vert ,\vert n\vert <\sqrt{p}$ or since $ 0 < n^{2}+2m^{2}< 3p$, this means that $ n^{2}+2m^{2}$ is $ p$ or $ 2p$. In case when $ p = n^{2}+2m^{2}$, it is clear that $ p\in A$. In case when $ 2p = n^{2}+2m^{2}$, we see that $ n$ is even so that $ p = m^{2}+2\left(\frac{n}{2}\right)^{2}\in A$.
%	\end{solution}

	%Chicken McNugget

	\begin{problem}[India TST 2003]
		On the real number line, paint red all points that correspond to integers of the form $81x+100y$, where $x$ and $y$ are positive integers. Paint the remaining integer point blue. Find a point $P$ on the line such that, for every integer point $T$, the reflection of $T$ with respect to $P$ is an integer point of a different color than $T$.
	\end{problem}

	\begin{problem}[USAMO 2001]
		Let $S$ be a set of integers (not necessarily positive) such that
			\begin{enumerate}
				\item there exist $a,b \in S$ with $\gcd(a,b)=\gcd(a-2,b-2)=1$;
				\item if $x$ and $y$ are elements of $S$ (possibly equal), then $x^2-y$ also belongs to $S$.
			\end{enumerate}
		Prove that $S$ is the set of all integers.
	\end{problem}

	%Vietta Jumping

	\begin{problem} %https://artofproblemsolving.com/community/c6h349211
		Let $a, b$, and $n$ be positive integers such that $n>2$. Prove that if
			\begin{align*}
				k = \frac{a^n+b^n}{(ab)^{n-1}+1}
			\end{align*}
		is an integer, then $k$ is a perfect $n^{th}$ power.
	\end{problem}

%	\begin{solution}
%		We have $ a = b, \; k=\displaystyle{\frac{a^n+b^n}{(ab)^{n-1}+1}} \in \mathbb{N}^+ \Rightarrow a=b=k=1=1^n$
%		Now assume that $a,b,k,n \in \mathbb{N}^+, \; a<b,\;n>1,\; a^n-k=(ka^{n-1}-b)b^{n-1}$
%		(1) If $k > a^n$ then $k > k-a^n = b^{n-1} (b-ka^{n-1}) \ge b^{n-1}$
%		$\quad \quad$ thus $b > ka^{n-1} \ge k > b^{n-1}$. which cannot happen.
%		(2) If $k < a^n$, then $ka^{n-1}-b = \displaystyle{\frac{a^n-k}{b^{n-1}}} < a$, $ka^{n-1} < a+b$, $(k-1)a^{n-1} < a+b - a^{n-1} \le b$
%		Thus $k > 1 \Rightarrow a^{n-1} \le (k-1)a^{n-1} < b \Rightarrow a^n-k = (ka^{n-1}-b)b^{n-1} \ge b^{n-1} >$ $ (a^{n-1})^{n-1} \ge a^n$,
%		that's wrong and so $k=1=1^n$
%		(3) If $k = a^n$ then $b=ka^{n-1}=a^{2n-1} \; b^n = a^{2n^2-n} = a^{2n(n-1) + n}$ hence $\displaystyle{\frac{a^n+b^n}{(ab)^{n-1}+1}=\frac{a^n(1+a^{2n(n-1)})}{(a^{2n})^{n-1}+1}} = a^n$
%	\end{solution}

	\begin{problem}[IZHO 2005] %https://artofproblemsolving.com/community/c6h1351952
		Solve the equation  $ p^2 - 6pq + (q^2 + 4) = 0$ in prime numbers less than $2005$.
	\end{problem}

	\begin{problem}
		Let $ a,b$, and $k $ be positive integers such that
			\begin{align*}
				k=\frac{a^2+b^2}{ab-1}
			\end{align*}
		Prove that $ k=5 $.
	\end{problem}

	\begin{problem}[IMO 2007] %https://artofproblemsolving.com/community/c6h159987
		Let $a$ and $b$ be positive integers. Show that if $4ab - 1$ divides $(4a^{2} - 1)^{2}$, then $a = b$.
	\end{problem}

	\begin{problem}[PEN] %https://artofproblemsolving.com/community/c146h150372
		If $a, b, c$ are positive integers such that \[0 < a^{2}+b^{2}-abc \le c\] show that $a^{2}+b^{2}-abc$ is a perfect square.
	\end{problem}

	\begin{problem}[IMO ShortList 2003] %https://artofproblemsolving.com/community/c6h94
		Determine all pairs of positive integers $(a,b)$ such that \[ \dfrac{a^2}{2ab^2-b^3+1} \] is a positive integer.
	\end{problem}

	\begin{problem} %https://artofproblemsolving.com/community/c6h1320685
		Find all triples $(x,y,z)$ of positive integers such that $(x+y+z)^2=7xyz$.
	\end{problem}

	\begin{problem} %https://artofproblemsolving.com/community/c6h417499
		 Let $a$ and $b$ be positive integers such that $ab$ divides $a^2 + b^2 + 2$. Prove that $\frac{a^2 + b^2 + 2}{ab} = 4$.
	\end{problem}

	\begin{problem} %https://artofproblemsolving.com/community/c6h408739
		Find all positive integers $x,y$, and $z$ such that $x^2+y^2+2=xyz$.
	\end{problem}

	\begin{problem}[Ireland 2005] %https://artofproblemsolving.com/community/c6h560119
		Let $m,n$ be integers with the same parity such that $m^2-n^2+1$ divides $n^2-1$. Prove that $m^2-n^2+1$ is a perfect square.
	\end{problem}

	\begin{problem}[Mongolia 2000] %https://artofproblemsolving.com/community/c6h2782
		For which positive integer $k$ there exist positive integers $x,y$, and $z$ such that $(x+y+z)^2= kxyz$?
	\end{problem}

	\begin{problem} %https://artofproblemsolving.com/community/c146h459442
		Prove that the following equation has no positive integer solution $(x,y,z)$ \[x^2+y^2+z^2=xyz+1\]
	\end{problem}

	\begin{problem} %https://artofproblemsolving.com/community/c146h459442
		Prove that the equation \[x^2+y^2+z^2=n(xyz+1)\] has a solution $(x,y,z)$ in positive integers if and only if $n$ can be represented as sum of two perfect squares.
	\end{problem}

	\begin{problem} %https://artofproblemsolving.com/community/c146h457193
		Let $a$ and $b$ are positive integers such that
			\begin{align*}
				a + 1
					& \mid {b^2} + 1\\
				b + 1
					& \mid{a^2} + 1
			\end{align*}
		Prove that $a$ and $b$ are odd numbers.
	\end{problem}

	\begin{problem} %https://artofproblemsolving.com/community/c6h315784
		Find all positive integers $a$ and $b$ such that
			\begin{align*}
				 \frac{a^2+b^2+a+b+1}{ab}
				 	& \in\mathbb{N}
			\end{align*}
	\end{problem}

	\begin{problem} %https://artofproblemsolving.com/community/c6h402291
		Let $m$ and $n$ be positive integers such that $mn \neq 1$. Let
			\begin{align*}
				k= \dfrac{m^2+mn+n^2}{mn-1}
			\end{align*}
		If $k$ is an integer, find all its possible values.
	\end{problem}

	\begin{problem}
		Find all pairs of integers $( m, n )$ such that
			\begin{align*}
				 \frac{ m } { n } + \frac{ n}{m}
			\end{align*}
		is also an integer.
	\end{problem}

	\begin{problem}[Vietnam 2002]
		Find all integers \(n\) for which there exist infinitely many integer solutions to
			\begin{align*}
				a + b + c + d = n \sqrt{ abcd }
			\end{align*}
	\end{problem}

	\begin{problem}[Putnam 1933]
		Prove that for every real number $N$, the equation
			\begin{align*}
				a^2 + b^2 + c^2 + d^2
					& = abc + bcd + cda + dab
			\end{align*}
		has a solution in which $a, b, c$, and $d$ are all integers greater than $N$.
	\end{problem}

	%LTE
	\begin{problem}[UNESCO Competition 1995]
		Let $a,n$ be two positive integers and let $p$ be an odd prime number such that
		\[a^p \equiv 1 \pmod{p^n}\]
		Prove that
		\[a \equiv 1 \pmod{p^{n-1}}\]
	\end{problem}

	\begin{problem}[Iran Second Round 2008]
		Show that the only positive integer value of $a$ for which $4(a^n+1)$ is a perfect cube for all positive integers $n,$ is $1.$
	\end{problem}

	\begin{problem}
		Let $k>1$ be an integer. Show that there exists infinitely many positive integers $n$ such that
		\[n \mid 1^n + 2^n +3^n +\cdots+k^n\]
	\end{problem}


	\begin{problem}[Ireland 1996]
		Let $p$ be a prime number, and $a$ and $n$ positive integers. Prove that if
		\[2^p+3^p=a^n\]
		then $n=1.$
	\end{problem}



	\begin{problem}[Russia 1996]
		Let $x, y, p, n, k$ be positive integers such that $n$ is odd and $p$ is an odd prime. Prove that if $x^n + y^n = p^k$, then $n$ is a power of $p$.
	\end{problem}

	\begin{problem}
		Find the sum of all the divisors $d$ of $N=19^{88}-1$ which are of the form $d=2^{a}3^{b}$ with  $a,b \in \mathbb N$.
	\end{problem}

	\begin{problem}
		Let $p$ be a prime number. Solve the equation $a^p-1 = p^k$ in the set of positive integers.
	\end{problem}

	\begin{problem}
		Find all solutions of the equation
		\[(n-1)! + 1 = n^m\]
		in positive integers.
	\end{problem}

	\begin{problem}[Bulgaria 1997]
		For some positive integer $n,$ the number $3^n-2^n$ is a perfect power of a prime. Prove that $n$ is a prime.
	\end{problem}

	\begin{problem}
		Let $m,n,b$ be three positive integers with $m \neq n$ and $b>1.$ Show that if prime divisors of the numbers $b^n-1$ and $b^m-1$ be the same, then $b+1$ is a perfect power of $2.$
	\end{problem}

	\begin{problem}[IMO ShortList 1991]
		Find the highest degree $ k$ of $ 1991$ for which $ 1991^k$ divides the number \[ 1990^{1991^{1992}} + 1992^{1991^{1990}}\]
	\end{problem}

	\begin{problem}
		Prove that the number $a^{a-1}-1$ is never square-free for all integers $a>2$.
	\end{problem}

	\begin{problem}[Czech Slovakia 1996]
		Find all positive integers $x,y$ such that $p^x - y^p=1,$ where $p$ is a prime.
	\end{problem}



	\begin{problem}
		Let $x$ and $y$ be two positive rational numbers such that for infinitely many positive integers $n,$ the number $x^n-y^n$ is a positive integer. Show that $x$ and $y$ are both positive integers.
	\end{problem}

	\begin{problem}[IMO 2000]
		Does there exist a positive integer $n$ such that $n$ has exactly $2000$ prime divisors and $n$ divides $2^n + 1?$
	\end{problem}

	\begin{problem}[China Western Mathematical Olympiad 2010]
		Suppose that $m$ and $k$ are non-negative integers, and $p = 2^{2^m}+1$ is a prime number. Prove that
		\begin{itemize}
			\item $2^{2^{m+1}p^k} \equiv 1$ $(\text{mod } p^{k+1})$;
			\item $2^{m+1}p^k$ is the smallest positive integer $n$ satisfying the congruence equation $2^n \equiv 1$ $(\text{mod } p^{k+1})$.
		\end{itemize}
	\end{problem}

	\begin{problem}
		Let $p \geq 5$ be a prime. Find the maximum value of positive integer $k$ such that
		\[p^{k}\mid(p-2)^{2(p-1)}-(p-4)^{p-1}\]
	\end{problem}


	%Zsigmondy’s Theorem

	\begin{problem} %https://artofproblemsolving.com/community/c6h558356
		Find all triples $(x,y,z)$ of integers such that $3^x+11^y=z^2$.
	\end{problem}

	\begin{problem} %https://artofproblemsolving.com/community/c6h617812
		Find all positive integer solutions to $p^a-1=2^n(p-1)$, where $p$ is prime.
	\end{problem}

	\begin{problem} %https://artofproblemsolving.com/community/c6h1321574
		Prove that there are no positive integers $x,y$, and $z$ such that $x^7+y^7=1998^z$.
	\end{problem}

	\begin{problem}[Baltic Way 2012] %https://artofproblemsolving.com/community/c6h508364
		Let $d(n)$ denote the number of positive divisors of $n$. Find all triples $(n,k,p)$, where $n$ and $k$ are positive integers and $p$ is a prime number, such that
		\[n^{d(n)} - 1 = p^k\]
	\end{problem}

	\begin{problem}[IZHO 2017] %https://artofproblemsolving.com/community/c6h1369995
		For each positive integer $k$, denote by $C(k)$ the sum of the distinct prime divisors of number $k$. For example, $C(1)=0,C(2)=2,C(45)=8$. Determine all positive integers $n$ such that $C(2^n+1)=C(n)$.
	\end{problem}

	\begin{problem}[Hong Kong TST 2016] %https://artofproblemsolving.com/community/c6h1150516
		Find all triples $(m,p,q)$ such that
			\begin{align*} 2^mp^2 +1=q^7 \end{align*}
		where $p$ and $q$ are ptimes and $m$ is a positive integer.
	\end{problem}

	\begin{problem}[Brazil 2016] %https://artofproblemsolving.com/community/c6h1361276
		Define the sequence of integers $a_n$ (for $n \geq 0$) such that $a_0$ is equal to an integer $a>1$ and $$a_{n+1}=2^{a_n}-1.$$
		Let $A$ be a set such that $x$ belongs to $A$ if and only if $x$ is a prime divisor of $a_n$ for some $n \geq 0$. Show that the number of elements of $A$ is infinite.
	\end{problem}

	\begin{problem}[USAMO‌2017] %https://artofproblemsolving.com/community/c5h1433969
		Prove that there are infinitely many distinct pairs $(a, b)$ of relatively prime integers $a>1$ and $b>1$ such that $a^b+b^a$ is divisible by $a+b$.
	\end{problem}

	\begin{problem}[Italy TST 2003] %https://artofproblemsolving.com/community/c6h1245166
		Let $a$ and $b$ be positive integers and $p$ be a prime. Find all solutions to the equation $2^a+p^b=19^a$.
	\end{problem}

	\begin{problem}[Turkey EGMO TST 2017] %https://artofproblemsolving.com/community/c6h1455792
		Determine all triples $(m,k,n)$ of positive integers satisfying the following equation
			\begin{align*}
				3^m5^k=n^3+125
			\end{align*}
	\end{problem}

	\begin{problem}[Balkan 2013] %https://artofproblemsolving.com/community/c6h541450
		Determine all positive integers $x$, $y$, and $z$ such that $x^5 + 4^y = 2013^z$.
	\end{problem}

	\begin{problem} %https://artofproblemsolving.com/community/c6h1076422
		If $p_n$ is the $nth$ prime then prove that the integer $N = p_1p_2p_3 \dots p_n + 1$ can not be a perfect power.
	\end{problem}

	\begin{problem} %https://artofproblemsolving.com/community/c6h1230093
		Find all ordered triplets $(a,b,c)$ of positive integers such that
			\begin{align*}
				2^a-5^{b}\cdot 7^{c} = 1
			\end{align*}
	\end{problem}

	\begin{problem}[Vietnam TST 2016] %https://artofproblemsolving.com/community/c6h1217166
		Find all positive integers $a$ and $n$ with $a>2$ such that each prime divisor of $a^n-1$ is also prime divisor of $a^{3^{2016}}-1$.
	\end{problem}

	\begin{problem} %https://artofproblemsolving.com/community/c6h596028
		Find all positive integers $n$, for which $n$ and $2^n + 1$ have the same set of prime divisors.
	\end{problem}

	\begin{problem} %https://artofproblemsolving.com/community/c6h571494
		Find all triplets $ (x,y,z)$ of positive integers such that
			\begin{align*}
				(z+1)^x-z^y=-1
			\end{align*}
	\end{problem}
\end{document}